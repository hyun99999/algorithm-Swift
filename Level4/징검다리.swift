// ì¶œë°œ ì§€ì ë¶€í„° distance ë§Œí¼ ë–¨ì–´ì§„ ê³³ì— ë„ì°©ì§€ì 
// ì‚¬ì´ì˜ ë°”ìœ„ ì¤‘ ëª‡ ê°œë¥¼ ì œê±°í•˜ë ¤ í•œë‹¤
// ë°”ìœ„ë¥¼ nê°œ ì œê±°í•œ í›„ì— ë°”ìœ„ ì‚¬ì´ì˜ ìµœì†Ÿê°’ ì¤‘ ê°€ì¥ í° ê°’ì„ ë°˜í™˜.

import Foundation

func solution(_ distance:Int, _ rocks:[Int], _ n:Int) -> Int {
    // ë§ˆì§€ë§‰ ì§€ì ê¹Œì§€ ì¶”ê°€
    let sortedRocks: [Int] = rocks.sorted() + [distance]
    
    var left: Int = 1
    var right: Int = distance
    var answer: Int = 0
    
    // ë°”ìœ„ 50,000 ì¤‘ì— ìµœëŒ€ 50,000 ê°œ ì„ íƒ ê°€ëŠ¥
    // 50,000!
    // ëª¨ë“  ì¡°í•©ì„ í™•ì¸í•˜ê¸° ì–´ë ¤ì›€.
    // ì™„ì „ íƒìƒ‰ ì¤‘ ê·¸ë¦¬ë””í•˜ê²Œ ì°¾ê¸° -> âœ… ì´ì§„íƒìƒ‰
    
    while left <= right {
        /// ê±°ë¦¬ì˜ ìµœì†Ÿê°’
        let mid: Int = (left + right) / 2
        // ğŸ’ª (ê±°ë¦¬ì˜ ìµœì†Ÿê°’)ì´ ìœ íš¨í•˜ë„ë¡ count ë³€ìˆ˜ ì‚¬ìš©.
        // (ê±°ë¦¬ì˜ ìµœì†Ÿê°’)ì— ìœ íš¨í•´ì„œ ë°”ìœ„ë¥¼ ì§€ìš´ ì¹´ìš´íŠ¸
        var count: Int = 0
        /// ì¶œë°œí•˜ëŠ” ë°”ìœ„ì˜ ìœ„ì¹˜
        var start: Int = 0
        
        for i in 0..<sortedRocks.count {
            if sortedRocks[i] - start < mid {
                // (ê±°ë¦¬ì˜ ìµœì†Ÿê°’)ì´ ìœ íš¨í•˜ë‹¤
                // -> ë°”ìœ„ë¥¼ ì§€ì›€
                // ğŸ’ª ê°™ì€ ê²½ìš°ì—ëŠ” ë°”ìœ„ë¥¼ ì§€ìš°ë©´ ì•ˆë¨.
                count += 1
            } else {
                // (ê±°ë¦¬ì˜ ìµœì†Ÿê°’)ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ
                // -> ë°”ìœ„ë¥¼ ë‚¨ê¹€
                start = sortedRocks[i]
            }
        }
        
        if count > n {
            // countê°œì˜ ë°”ìœ„ë¥¼ ì œì™¸í•˜ê³ ë„ ì§€ì ë“¤ê°„ì˜ ê±°ë¦¬ê°€ (ê±°ë¦¬ì˜ ìµœì†Ÿê°’)ì— ëŒ€í•´ì„œ ìœ íš¨í•˜ë‹¤
            // -> ë” ì‘ì•„ì§ˆ ìˆ˜ ìˆë‹¤.
            right = mid - 1
        } else {
            left = mid + 1
            // (ê±°ë¦¬ì˜ ìµœì†Ÿê°’) ì¤‘ ìµœëŒ€ê°’ êµ¬í•˜ê¸°.
            answer = mid
        }
    }
    return answer
}

print(solution(25, [2, 14, 11, 21, 17], 2))
// 4
